
<!DOCTYPE html>
<html>
<head>
    <title>Lab 7 part 2.2</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" crossorigin=""></script>
      <script src="https://dsps.lib.uiowa.edu/placing/public/leafletSlider-1.0.2/leaflet.SliderControl.min.js"></script>
      <script src="https://dsps.lib.uiowa.edu/placing/public/fuse-1.2.1/fuse.min.js"></script>
      <script src="https://dsps.lib.uiowa.edu/placing/public/leafletFuseSearch-noVersion/leafletfuse.js"></script>
      <link rel="stylesheet" href="https://dsps.lib.uiowa.edu/placing/public/leafletFuseSearch-noVersion/leafletfuse.css" type="text/css"/>
      <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
      <script src="https://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
      <link rel="stylesheet" href="https://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" type="text/css">
      <script src="https://dsps.lib.uiowa.edu/placing/public/jqueryUiTouchPunch-0.2.2/jquery.ui.touch-punch.min.js"></script>
      <script src="https://dsps.lib.uiowa.edu/placing/omadata.js"></script>

	  <link rel="stylesheet" type="text/css" href="https://dsps.lib.uiowa.edu/placing/css/style.css">
	  <link rel="stylesheet" type="text/css" href="https://dsps.lib.uiowa.edu/placing/css/navwrap.css">
  </head>
  <body>
     <div id="map" style="width: 100%; height: 650px"></div>
 <script>

 	 var basemap =  L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
                     attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                     subdomains: 'abcd',
                     minZoom: 0,
                     maxZoom: 20,
                     ext: 'png'
                 });

       var map = L.map('map', {
 	  center: [41.259944, -95.937057],
 	  zoom: 15,
 	  layers: [basemap]
 	  });

       // onEachFeature generate a popup for each location
       var onEachFeature = function(feature, layer) {
         if (feature.properties) {
           var prop = feature.properties;
           // make a cool little html popup with properties
             var popup = '<h3>'+prop['FNAME']+' '+prop['LNAME']+'</h3>'+'<strong>Race/Gender: </strong>'+prop['RACE']+' '+prop['GENDER']+'<br><strong>Occupation: </strong>'+prop['OCCUPATION']+'<br><strong>Age: </strong>'+prop['AGE']+'<br><strong>Family Estate: $</strong>'+prop['PERSREAL']+'<br> <strong>Fam. Real Estate: $</strong>'+prop['FAMREAL']+'<br><strong>Address: </strong>'+prop['ADDRESS']+'<br><br><i>details from Census Bureau and city directories</i>';
             // add known info about event to the description

           // you must create a layer property on each feature or else
           // the search results won't know where the item is on the map / layer
           feature.layer = layer;
           layer.bindPopup(popup, {maxWidth: "auto"});
         }
       }; // end onEachFeature

